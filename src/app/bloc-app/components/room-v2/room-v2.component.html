<!--
 * @Descripttion: 
 * @version: 1.0
 * @Author: icxl
 * @Date: 2021-07-03 17:30:03
 * @LastEditors: icxl
 * @LastEditTime: 2021-07-05 16:58:50
-->
<div>
  <div id="selfDevices">
    <h1>自己名称：{{name}}</h1>
  </div>


  <div id="control">
    <br />

    audio: <select id="audioSelect" [(ngModel)]="audioSelectValue">
      <option *ngFor="let item of audioSelects;let i = index;" [value]="item.value">{{item.key}}</option>
    </select>
    <br />
    video: <select id="videoSelect" [(ngModel)]="videoSelectValue">
      <option *ngFor="let item of videoSelects;let i = index;" [value]="item.value">{{item.key}}</option>
    </select>
    <br />
    <button id='startAudioButton'*ngIf="if_startAudio" (click)="produce('audioType')">audio</button>
    <button id='stopAudioButton' *ngIf="if_stopAudio" (click)="closeProducer('audioType')">close
      audio</button>


    <button id='startVideoButton' *ngIf="if_startVideo" (click)="produce('videoType')">video</button>
    <button id='stopVideoButton' *ngIf="if_stopVideo" (click)="closeProducer('videoType')">close
      video</button>



    <button id='startScreenButton' *ngIf="if_startScreen" (click)="produce('screenType')">screen</button>
    <button id='stopScreenButton' *ngIf="if_stopScreen" (click)="closeProducer('screenType')">close
      screen</button>
    <br />
  </div>



  
  <div id='videoMedia' *ngIf="if_videoMedia">
    <h2>------local------</h2>
    <div id="localMedia">
      <video *ngFor="let item of localStreams"  [srcObject]="item.stream" [id]="item.id" playsinline='false' autoplay="true" class="vid">
      </video>
    </div>
    <h2>-----remote-----</h2>
    <div id="remoteVideos" class="container">
      <video *ngFor="let item of remoteVideoStream" [srcObject]="item.stream" [id]="item.id" playsinline='false' autoplay="true" class="vid">
      </video>

      <!-- <app-h5-stream *ngFor="let item of remoteVideoStream" [isVideo]="true" [stream]="item.stream" [id]="item.id"></app-h5-stream> -->
    </div>

    <div id="remoteAudios">
      <audio *ngFor="let item of remoteAudioStream"  [srcObject]="item.stream" [id]="item.id" playsinline='false' autoplay="true">
      </audio>

      <!-- <app-h5-stream *ngFor="let item of remoteAudioStream" [isVideo]="false" [stream]="item.stream" [id]="item.id"></app-h5-stream> -->
    </div>

  </div>
</div>